<!DOCTYPE html>
<html>
<head>
    <title>Lazyload test</title>
    <link rel="stylesheet" href="../dep/lacus/asset/all/all.css"/>
    <script src="http://s1.bdstatic.com/r/www/cache/ecom/esl/1-6-10/esl.js"></script>
    <style>
        img{
            display: block;
        }
    </style>
</head>
<body>
<div class="" id="loading" >
</div>
<script>
    var html = ['<div class="lazy-img">'];
    for (var i = 0; i < 100; i++ ) {
        if(i%2==0) {
            html.push('<img width="270" height= "129" src="http://tb2.bdstatic.com/tb/static-common/img/search_logo_039c9b99.png" data-url="http://www.baidu.com/img/bdlogo.gif" />');
        } else {
            html.push('<img width="270" height= "129" src="" data-url="http://www.baidu.com/img/bdlogo.gif" />');
        }
        html.push('<textarea class="j-lazyload-text"><div class="">hell world！！！！</div><script>console.log("hello");<\/script> </textarea>')
    }
    html.push('</div>');
    document.getElementById('loading').innerHTML = (html.join(''));
    require.config({
        'baseUrl': '../src',
        'packages': [
            {
                'name': 'etpl',
                'location': '../dep/etpl/3.0.0/src',
                'main': 'main'
            },
            {
                'name': 'promise',
                'location': '../dep/promise/1.0.0/src',
                'main': 'main'
            },
            {
                'name': 'winnie',
                'location': '../dep/winnie/0.6.1/src',
                'main': 'lib'
            }
        ],
        'paths': {}
    });

    require(['Lazyload'], function (Lazyload) {
        new Lazyload({
            container: document,
            urlName: 'data-url'
        });
    });
</script>

</body>
</html>
